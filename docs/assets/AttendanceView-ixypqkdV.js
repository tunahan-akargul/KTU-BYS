import{d as K,y as M,c as _,A as p,a as b,w as s,k as x,h as F,r,o as k,e as a,b as n,f as d,t as o,g as G,i as H,F as L,_ as R}from"./index-d2fKOEQM.js";const E={class:"d-flex align-center"},P={class:"text-h4 font-weight-bold text-success"},U={class:"text-h4 font-weight-bold text-warning"},Z={class:"text-h4 font-weight-bold text-error"},q={class:"text-h4 font-weight-bold text-grey-darken-1"},J={class:"d-flex justify-space-between align-start mb-4"},O={class:"text-h6 font-weight-bold"},Q={class:"mb-4"},X={class:"d-flex justify-space-between mb-2"},Y={class:"text-body-2 font-weight-medium"},tt={class:"text-body-2"},et={class:"mt-4 pt-3 details-section"},st={class:"d-flex justify-space-between text-body-2"},at={class:"font-weight-medium"},nt={class:"d-flex justify-space-between text-body-2 mt-1"},lt=K({__name:"AttendanceView",setup(ot){const{mdAndDown:y}=M(),w=_(()=>p.filter(e=>e.status==="safe").length),z=_(()=>p.filter(e=>e.status==="warning").length),C=_(()=>p.filter(e=>e.status==="danger").length),A=_(()=>p.filter(e=>e.status==="failed").length),D=_(()=>{const e={failed:0,danger:1,warning:2,safe:3};return[...p].sort((t,i)=>(e[t.status]??4)-(e[i.status]??4))});function v(e){return{safe:"success",warning:"warning",danger:"error",failed:"grey-darken-1"}[e]||"grey"}function W(e){return{safe:"mdi-check-circle",warning:"mdi-alert",danger:"mdi-alert-circle",failed:"mdi-close-circle"}[e]||"mdi-help"}function $(e){return{safe:"success",warning:"warning",danger:"error",failed:"error"}[e]||"info"}function T(e){return`status-${e}`}function V(e){return e.absentWeeks/e.maxAbsentWeeks*100}function B(e){switch(e.status){case"safe":return`DevamsÄ±zlÄ±k durumunuz gÃ¼venli. ${m(e)} hafta hakkÄ±nÄ±z var.`;case"warning":return`âš ï¸ Dikkat! ${e.absentWeeks} hafta devamsÄ±zlÄ±k yaptÄ±nÄ±z. Sadece ${m(e)} hafta hakkÄ±nÄ±z kaldÄ±!`;case"danger":return`ğŸš¨ Tehlike! ${e.absentWeeks} hafta devamsÄ±zlÄ±k var. ${m(e)} hafta sonra kalÄ±rsÄ±nÄ±z!`;case"failed":return`âŒ Bu dersten ${e.absentWeeks} hafta devamsÄ±zlÄ±ktan dolayÄ± KALDINIZ!`;default:return""}}function m(e){const t=e.maxAbsentWeeks-e.absentWeeks;return Math.max(0,Math.round(t*10)/10)}function I(e){const t=m(e);return t<=0?"text-grey-darken-1":t<=.5?"text-error":t<=1?"text-warning":"text-success"}return(e,t)=>{const i=r("v-icon"),c=r("v-col"),g=r("v-row"),u=r("v-card-text"),f=r("v-card"),h=r("v-alert"),N=r("v-chip"),S=r("v-progress-linear"),j=r("v-container");return k(),b(j,{fluid:"",class:x(["attendance-page",F(y)?"pa-4":"pa-6"])},{default:s(()=>[a(g,{class:"mb-6"},{default:s(()=>[a(c,{cols:"12"},{default:s(()=>[n("div",E,[a(i,{size:"32",color:"primary",class:"mr-3"},{default:s(()=>[...t[0]||(t[0]=[d("mdi-account-check",-1)])]),_:1}),t[1]||(t[1]=n("div",null,[n("h1",{class:"text-h5 text-sm-h4 font-weight-bold"},"DevamsÄ±zlÄ±k Takibi"),n("p",{class:"text-body-2 text-sm-subtitle-1 text-medium-emphasis mb-0"}," 2024-2025 GÃ¼z DÃ¶nemi - DevamsÄ±zlÄ±k durumunuzu takip edin ")],-1))])]),_:1})]),_:1}),a(g,{class:"mb-6"},{default:s(()=>[a(c,{cols:"12",sm:"6",md:"3"},{default:s(()=>[a(f,{class:"summary-card safe-card",elevation:"0"},{default:s(()=>[a(u,{class:"text-center py-6"},{default:s(()=>[a(i,{size:"40",color:"success",class:"mb-2"},{default:s(()=>[...t[2]||(t[2]=[d("mdi-check-circle",-1)])]),_:1}),n("div",P,o(w.value),1),t[3]||(t[3]=n("div",{class:"text-body-2 text-medium-emphasis"},"GÃ¼venli",-1))]),_:1})]),_:1})]),_:1}),a(c,{cols:"12",sm:"6",md:"3"},{default:s(()=>[a(f,{class:"summary-card warning-card",elevation:"0"},{default:s(()=>[a(u,{class:"text-center py-6"},{default:s(()=>[a(i,{size:"40",color:"warning",class:"mb-2"},{default:s(()=>[...t[4]||(t[4]=[d("mdi-alert",-1)])]),_:1}),n("div",U,o(z.value),1),t[5]||(t[5]=n("div",{class:"text-body-2 text-medium-emphasis"},"UyarÄ±",-1))]),_:1})]),_:1})]),_:1}),a(c,{cols:"12",sm:"6",md:"3"},{default:s(()=>[a(f,{class:"summary-card danger-card",elevation:"0"},{default:s(()=>[a(u,{class:"text-center py-6"},{default:s(()=>[a(i,{size:"40",color:"error",class:"mb-2"},{default:s(()=>[...t[6]||(t[6]=[d("mdi-alert-circle",-1)])]),_:1}),n("div",Z,o(C.value),1),t[7]||(t[7]=n("div",{class:"text-body-2 text-medium-emphasis"},"Tehlike",-1))]),_:1})]),_:1})]),_:1}),a(c,{cols:"12",sm:"6",md:"3"},{default:s(()=>[a(f,{class:"summary-card failed-card",elevation:"0"},{default:s(()=>[a(u,{class:"text-center py-6"},{default:s(()=>[a(i,{size:"40",color:"grey-darken-1",class:"mb-2"},{default:s(()=>[...t[8]||(t[8]=[d("mdi-close-circle",-1)])]),_:1}),n("div",q,o(A.value),1),t[9]||(t[9]=n("div",{class:"text-body-2 text-medium-emphasis"},"KaldÄ±",-1))]),_:1})]),_:1})]),_:1})]),_:1}),a(g,{class:"mb-6"},{default:s(()=>[a(c,{cols:"12"},{default:s(()=>[a(h,{type:"info",variant:"tonal",icon:"mdi-information",class:"info-alert"},{default:s(()=>[...t[10]||(t[10]=[n("strong",null,"DevamsÄ±zlÄ±k KuralÄ±:",-1),d(" 14 haftalÄ±k dÃ¶nemde toplam ",-1),n("strong",null,"%30",-1),d(" (4.2 hafta) oranÄ±ndan fazla devamsÄ±zlÄ±k yapÄ±lamaz. 4 haftayÄ± aÅŸan devamsÄ±zlÄ±klarda dersten ",-1),n("strong",null,"kalÄ±nÄ±r",-1),d(". ",-1)])]),_:1})]),_:1})]),_:1}),a(g,null,{default:s(()=>[(k(!0),G(L,null,H(D.value,l=>(k(),b(c,{key:l.courseId,cols:"12",md:"6",lg:"4"},{default:s(()=>[a(f,{class:x(["attendance-card",T(l.status)]),elevation:"0"},{default:s(()=>[a(u,{class:"pa-5"},{default:s(()=>[n("div",J,[n("div",null,[a(N,{color:v(l.status),size:"small",class:"mb-2"},{default:s(()=>[d(o(l.courseCode),1)]),_:2},1032,["color"]),n("h3",O,o(l.courseName),1)]),a(i,{color:v(l.status),size:"28"},{default:s(()=>[d(o(W(l.status)),1)]),_:2},1032,["color"])]),n("div",Q,[n("div",X,[t[11]||(t[11]=n("span",{class:"text-body-2 text-medium-emphasis"},"DevamsÄ±zlÄ±k",-1)),n("span",Y,o(l.absentWeeks)+" / "+o(l.maxAbsentWeeks)+" hafta ",1)]),a(S,{"model-value":V(l),color:v(l.status),height:"10",rounded:"",class:"progress-bar"},null,8,["model-value","color"])]),a(h,{type:$(l.status),variant:"tonal",density:"compact",class:"status-alert"},{default:s(()=>[n("span",tt,o(B(l)),1)]),_:2},1032,["type"]),n("div",et,[n("div",st,[t[12]||(t[12]=n("span",{class:"text-medium-emphasis"},"Toplam Hafta:",-1)),n("span",at,o(l.totalWeeks),1)]),n("div",nt,[t[13]||(t[13]=n("span",{class:"text-medium-emphasis"},"Kalan Hak:",-1)),n("span",{class:x(["font-weight-medium",I(l)])},o(m(l))+" hafta ",3)])])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),_:1},8,["class"])}}}),rt=R(lt,[["__scopeId","data-v-ce7079de"]]);export{rt as default};
